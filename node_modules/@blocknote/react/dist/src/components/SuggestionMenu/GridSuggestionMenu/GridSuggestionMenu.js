import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useMemo } from "react";
import { useComponentsContext } from "../../../editor/ComponentsContext.js";
import { useDictionary } from "../../../i18n/dictionary.js";
export function GridSuggestionMenu(props) {
    const Components = useComponentsContext();
    const dict = useDictionary();
    const { items, loadingState, selectedIndex, onItemClick, columns } = props;
    const loader = loadingState === "loading-initial" || loadingState === "loading" ? (_jsx(Components.GridSuggestionMenu.Loader, { className: "bn-grid-suggestion-menu-loader", columns: columns, children: dict.suggestion_menu.loading })) : null;
    const renderedItems = useMemo(() => {
        // let currentGroup: string | undefined = undefined;
        const renderedItems = [];
        for (let i = 0; i < items.length; i++) {
            const item = items[i];
            // if (item.group !== currentGroup) {
            //   currentGroup = item.group;
            //   renderedItems.push(
            //     <Components.SuggestionMenu.Label
            //       className={"bn-suggestion-menu-label"}
            //       key={currentGroup}>
            //       {currentGroup}
            //     </Components.SuggestionMenu.Label>
            //   );
            // }
            renderedItems.push(_jsx(Components.GridSuggestionMenu.Item, { className: "bn-grid-suggestion-menu-item", item: item, id: `bn-grid-suggestion-menu-item-${i}`, isSelected: i === selectedIndex, onClick: () => onItemClick?.(item) }, item.id));
        }
        return renderedItems;
    }, [Components, items, onItemClick, selectedIndex]);
    return (_jsxs(Components.GridSuggestionMenu.Root, { id: "bn-grid-suggestion-menu", columns: columns, className: "bn-grid-suggestion-menu", children: [loader, renderedItems, renderedItems.length === 0 && props.loadingState === "loaded" && (_jsx(Components.GridSuggestionMenu.EmptyItem, { className: "bn-grid-suggestion-menu-empty-item", columns: columns, children: dict.suggestion_menu.no_items_title }))] }));
}
//# sourceMappingURL=GridSuggestionMenu.js.map